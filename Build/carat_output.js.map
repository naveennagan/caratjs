{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./vdom.js","webpack:///./render.js","webpack:///./watcher.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./carat.js","webpack:///./index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","vdomTypes","vdom","this","isTypeValid","type","indexOf","init","content","children","parent","props","getHash","hashKey","keys","map","getChildren","render","mount","velem","document","createElement","appendChild","createTextNode","child","events","watcher","addEventListener","component","eventName","e","console","log","originalModule","webpackPolyfill","parser","DOMParser","caratRegexExpression","Carat","view","fields","getVDom","interpolatedTemplate","interpolate","htmlDoc","parseFromString","createVdomFromDOM","htmlDOM","dom","_vdom__WEBPACK_IMPORTED_MODULE_0__","htmlDOMchildNodes","childNodes","length","childNode","push","htmlAttrs","attributes","nodeValue","evaluateExpression","expression","fieldKey","match","text","replace","regex","slice","_render__WEBPACK_IMPORTED_MODULE_1__","div","window"],"mappings":"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","file":"carat_output.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","var vdomTypes = [\"NONE\", \"DIV\"];\n\nfunction vdom() {\n  this.isTypeValid = function (type) {\n    return vdomTypes.indexOf(type) != -1 ? type : \"NONE\"\n  },\n    this.vdom = {\n      init: (type, content, children, parent, props) => {\n        this.vdom.type = this.isTypeValid(type);\n        this.vdom.content = content || \"\";\n        this.vdom.children = children || [];\n        this.vdom.parent = parent || {};\n        this.vdom.props = props || {};\n      },\n      getHash: () => {\n        let keys = Object.keys(this.vdom.props);\n        var hashKey = \"CARAT\";\n        var hashContent = keys.map((key) => {\n          hashKey += this.vdom.props[key];\n        });\n        return hashKey;\n      },\n      getChildren: () => {\n        return this.vdom.children;\n      },\n      type: \"NONE\",\n      children: [],\n      content: \"\",\n      parent: {},\n      props: {}\n    };\n  return this.vdom;\n}\nexports.vdom = vdom;","var render = function (vdom, mount) {\n  if (vdom.type === \"DIV\") {\n    //create element with\n    var velem = document.createElement(\"div\");\n    //if div has content create text node and append it to div\n    vdom.content ? velem.appendChild(document.createTextNode(vdom.content)) : \"\";\n    //if it has children recursively call them with updated mount point i.e. velem\n    vdom.children.map((child) => {\n      render(child, velem)\n    });\n    mount.appendChild(velem);\n    return mount;\n  }\n  else {\n    return mount;\n  }\n}\n\nexports.render = render;","import { vdom } from './vdom';\nvar events = ['click'];\nvar watcher = {\n  addEventListener: (component) => {\n    events.map((eventName) => {\n      document.addEventListener(eventName, (e) => {\n        console.log(\"Re Render the component ! \");\n      });\n    });\n  }\n}\nexports.watcher = watcher;","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import { vdom } from './vdom';\nimport { render } from './render';\nimport { watcher } from './watcher';\nvar parser = new DOMParser();\nvar caratRegexExpression = /\\{([0-9A-Za-z ]+)\\}/g;\nvar Carat = function (view, fields) {\n  //check for look part make it cumpulsory\n  // check for fields part\n  if (!view) {\n    throw \"View part of the component is not defined ! \";\n  }\n  this.view = view;\n  this.fields = fields;\n\n  this.getVDom = () => {\n    //parse view part and create vdom objects\n    //step 1 --- interpolate view part with properties\n    var interpolatedTemplate = this.interpolate(this.view, this.fields);\n\n    //step 2 --- created html doc    \n    var htmlDoc = parser.parseFromString(interpolatedTemplate, \"text/html\");\n\n    //step 3 --- create vdom\n    var vdom = this.createVdomFromDOM(htmlDoc, {});\n\n    return vdom;\n\n  },\n    this.createVdomFromDOM = (htmlDOM, parent) => {\n      if (!htmlDOM) {\n        return {};\n      }\n      var dom = new vdom();\n      var children = [];\n      var htmlDOMchildNodes = htmlDOM.childNodes;\n      for (var i = 0; i < htmlDOMchildNodes.length; i++) {\n        var childNode = this.createVdomFromDOM(htmlDOMchildNodes[i], dom);\n        children.push(childNode);\n      }\n      var htmlAttrs = htmlDOM.attributes;\n      dom.init(\"DIV\", htmlDOM.nodeValue, children, parent, htmlAttrs);\n      return dom;\n    },\n    this.evaluateExpression = (expression, fields) => {\n      var fieldKeys = Object.keys(fields);\n      var fieldString = \"\";\n      fieldKeys.map((fieldKey) => {\n        fieldString += `var ${fieldKey}=${fields[fieldKey]};`;\n      });\n\n      //declare all variables from fields and append it to expression;\n      var functionalExpression = `function(){\n         var value=\"\";\n      ${fieldString}\n      value= ${expression} \n      return value;\n      }`;\n    },\n    this.interpolate = (view, fields) => {\n      while (view.match(caratRegexExpression)) {\n        text.replace(regex,\n          (m) => {\n            var expression = m.slice(1, -1);\n            var value = this.evaluateExpression(expression, fields);\n            return value;\n          });\n      }\n    }\n}\n\nCarat.prototype.mount = (component, dom) => {\n  //render component and mount it to dom.\n  var renderedComponent = render(component, div);\n\n  return renderedComponent;\n};\n\nmodule.exports = Carat;","var Carat = require(\"./carat\");\nwindow.Carat = Carat;"],"sourceRoot":""}